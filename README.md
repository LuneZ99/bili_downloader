# Bili Downloader | Bç«™è§†é¢‘ä¸‹è½½å·¥å…·

### ğŸ“ é¡¹ç›®ä»‹ç»

Bili Downloader æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Bilibili è§†é¢‘ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒé«˜ç”»è´¨è§†é¢‘ä¸‹è½½ã€æ‰¹é‡ä¸‹è½½ã€åˆé›†ä¸‹è½½ç­‰å¤šç§åŠŸèƒ½ã€‚é‡‡ç”¨ç°ä»£åŒ–çš„å¼‚æ­¥æ¶æ„ï¼Œæä¾›é«˜æ•ˆç¨³å®šçš„ä¸‹è½½ä½“éªŒã€‚

### âœ¨ åŠŸèƒ½ç‰¹æ€§

#### è§†é¢‘ä¸‹è½½åŠŸèƒ½
- ğŸ¥ **å•ä¸ªè§†é¢‘ä¸‹è½½** - æ”¯æŒé€šè¿‡ BVID ä¸‹è½½ä»»æ„è§†é¢‘
- ğŸ‘¤ **ç”¨æˆ·è§†é¢‘æ‰¹é‡ä¸‹è½½** - ä¸‹è½½æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰æŠ•ç¨¿è§†é¢‘
- ğŸ“š **åˆé›†ä¸‹è½½** - æ”¯æŒä¸‹è½½å®Œæ•´çš„è§†é¢‘åˆé›†/ç³»åˆ—
- ğŸ“‹ **è§†é¢‘åˆ—è¡¨æŸ¥çœ‹** - æµè§ˆç”¨æˆ·è§†é¢‘å’Œåˆé›†ä¿¡æ¯
- ğŸ“ **å¼¹å¹•ä¸‹è½½** - é»˜è®¤åŒæ—¶ä¸‹è½½è§†é¢‘å¼¹å¹•ï¼Œæ”¯æŒæ™®é€šå¼¹å¹•å’Œç‰¹æ®Šå¼¹å¹•(BAS)
- ğŸ” **ç™»å½•æ”¯æŒ** - æ”¯æŒç™»å½•è·å–é«˜ç”»è´¨è§†é¢‘
- âš¡ **å¹¶å‘ä¸‹è½½** - å¯è°ƒèŠ‚çš„å¤šçº¿ç¨‹å¹¶å‘ä¸‹è½½
- ğŸ¨ **è‡ªåŠ¨ç”»è´¨é€‰æ‹©** - æ ¹æ®è´¦å·æƒé™è‡ªåŠ¨é€‰æ‹©æœ€ä½³ç”»è´¨
- ğŸ”„ **è‡ªåŠ¨æ ¼å¼å¤„ç†** - æ”¯æŒ FLV/MP4/DASH æ ¼å¼è‡ªåŠ¨è½¬æ¢
- ğŸ“ **æ™ºèƒ½ç›®å½•ç®¡ç†** - è‡ªåŠ¨åˆ›å»ºåˆ†ç±»ä¸‹è½½ç›®å½•

#### åŠ¨æ€çˆ¬å–åŠŸèƒ½
- ğŸ“± **ç”¨æˆ·åŠ¨æ€è·å–** - è·å–æŒ‡å®šç”¨æˆ·çš„å…¨éƒ¨åŠ¨æ€
- ğŸ’¬ **è¯„è®ºå®Œæ•´çˆ¬å–** - é»˜è®¤è·å–å…¨éƒ¨è¯„è®ºå’Œæ¥¼ä¸­æ¥¼å›å¤
- ğŸ“Š **æ•°æ®ç»“æ„åŒ–ä¿å­˜** - JSON æ ¼å¼ä¿å­˜ï¼Œä¾¿äºåç»­åˆ†æ
- ğŸš€ **å¹¶å‘å¤„ç†** - æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘çˆ¬å–è¯„è®º
- ğŸ¯ **çµæ´»é…ç½®** - å¯é€‰æ‹©æ€§é™åˆ¶è¯„è®ºæ•°é‡ã€å¹¶å‘æ•°ç­‰
- ğŸ”„ **å¢é‡æ›´æ–°** - æ”¯æŒè·³è¿‡å·²å­˜åœ¨æ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ 

### ğŸ› ï¸ ç³»ç»Ÿè¦æ±‚

- **Python**: 3.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- **FFmpeg**: ç”¨äºè§†é¢‘æ ¼å¼è½¬æ¢ï¼ˆå¿…éœ€ï¼‰
- **æ“ä½œç³»ç»Ÿ**: Windows / macOS / Linux

### ğŸ“¦ å®‰è£…è¯´æ˜

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/LuneZ99/bili_downloader.git
cd bili_downloader
```

#### 2. å®‰è£… Python ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 3. å®‰è£… FFmpeg
```bash
# Ubuntu/Debian
sudo apt update && sudo apt install ffmpeg

# macOS (ä½¿ç”¨ Homebrew)
brew install ffmpeg

# Windows (ä½¿ç”¨ Chocolatey)
choco install ffmpeg

# æˆ–ä»å®˜ç½‘ä¸‹è½½: https://ffmpeg.org/download.html
```

#### 4. éªŒè¯å®‰è£…
```bash
python bili_cli.py --help
ffmpeg -version
```

### ğŸ”‘ é…ç½®è¯´æ˜

#### ç™»å½•å‡­æ®é…ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰

ä¸ºäº†è·å–é«˜ç”»è´¨è§†é¢‘ï¼Œå»ºè®®é…ç½® Bç«™ ç™»å½•å‡­æ®ï¼š

1. **å¤åˆ¶é…ç½®æ¨¡æ¿**
```bash
cp credentials.json.example credentials.json
```

2. **è·å–ç™»å½•å‡­æ®**
   > ğŸ“– **è¯¦ç»†æ•™ç¨‹**: [bilibili-api å®˜æ–¹è·å–å‡­è¯æŒ‡å—](https://nemo2011.github.io/bilibili-api/#/get-credential)
   
   - ç™»å½• [bilibili.com](https://www.bilibili.com)
   - æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åœ¨å·¥å…·çª—å£ä¸Šæ–¹æ‰¾åˆ° **Application** é€‰é¡¹å¡
   - åœ¨å·¦ä¾§æ‰¾åˆ° **Storage/Cookies**ï¼Œå¹¶é€‰ä¸­ä»»ä¸€Bç«™åŸŸå
   - åœ¨å³ä¾§æ‰¾åˆ°å¹¶å¤åˆ¶ä»¥ä¸‹ Cookie å€¼ï¼š
     - `SESSDATA`
     - `bili_jct`
     - `buvid3`
     - `DedeUserID`
     - `ac_time_value`ï¼ˆå¯é€‰ï¼Œç”¨äºå¢å¼ºè®¤è¯ï¼‰

3. **ç¼–è¾‘é…ç½®æ–‡ä»¶**
```json
{
  "SESSDATA": "ä½ çš„SESSDATAå€¼",
  "bili_jct": "ä½ çš„bili_jctå€¼", 
  "buvid3": "ä½ çš„buvid3å€¼",
  "DedeUserID": "ä½ çš„DedeUserIDå€¼",
  "ac_time_value": "ä½ çš„ac_time_valueå€¼"
}
```

#### ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¯é€‰ï¼‰
```bash
export BILI_SESSDATA="ä½ çš„SESSDATAå€¼"
export BILI_JCT="ä½ çš„bili_jctå€¼"
export BILI_BUVID3="ä½ çš„buvid3å€¼"
export BILI_DEDEUSERID="ä½ çš„DedeUserIDå€¼"
export BILI_AC_TIME_VALUE="ä½ çš„ac_time_valueå€¼"
```

### ğŸš€ ä½¿ç”¨æ–¹æ³•

#### åŸºæœ¬å‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
python bili_cli.py --help

# æŸ¥çœ‹æ”¯æŒçš„ç”»è´¨æ ¼å¼
python bili_cli.py --show-formats
```

#### è§†é¢‘ç›¸å…³æ“ä½œ

```bash
# åˆ—å‡ºç”¨æˆ·æ‰€æœ‰è§†é¢‘
python bili_cli.py list-videos 477317922

# ä¸‹è½½å•ä¸ªè§†é¢‘ï¼ˆé»˜è®¤åŒ…å«å¼¹å¹•ï¼‰
python bili_cli.py download-video BV1FQbPzKEA8

# ä¸‹è½½è§†é¢‘ä½†ä¸ä¸‹è½½å¼¹å¹•
python bili_cli.py download-video BV1FQbPzKEA8 --no-danmaku

# ä¸‹è½½å•ä¸ªè§†é¢‘åˆ°æŒ‡å®šç›®å½•
python bili_cli.py download-video BV1FQbPzKEA8 --dir /path/to/download

# ä¸‹è½½ç”¨æˆ·æ‰€æœ‰è§†é¢‘ï¼ˆé»˜è®¤åŒ…å«å¼¹å¹•ï¼‰
python bili_cli.py download-user 477317922

# ä¸‹è½½ç”¨æˆ·è§†é¢‘ä½†ä¸å«å¼¹å¹•ï¼ŒæŒ‡å®šå¹¶å‘æ•°
python bili_cli.py download-user 477317922 --concurrent 3 --no-danmaku
```

#### åˆé›†ç›¸å…³æ“ä½œ

```bash
# åˆ—å‡ºç”¨æˆ·æ‰€æœ‰åˆé›†
python bili_cli.py list-series 477317922

# åˆ—å‡ºåˆé›†ä¸­çš„æ‰€æœ‰è§†é¢‘
python bili_cli.py list-series-videos 123456

# ä¸‹è½½æ•´ä¸ªåˆé›†ï¼ˆé»˜è®¤åŒ…å«å¼¹å¹•ï¼‰
python bili_cli.py download-series 123456

# ä¸‹è½½åˆé›†ä½†ä¸å«å¼¹å¹•
python bili_cli.py download-series 123456 --no-danmaku

# æŒ‡å®šåˆé›†ç±»å‹ä¸‹è½½
python bili_cli.py download-series 123456 --type season
```

#### åŠ¨æ€ç›¸å…³æ“ä½œ

```bash
# åˆ—å‡ºç”¨æˆ·æœ€è¿‘çš„åŠ¨æ€
python bili_cli.py list-dynamics 477317922

# åˆ—å‡ºç”¨æˆ·æœ€è¿‘10æ¡åŠ¨æ€
python bili_cli.py list-dynamics 477317922 --limit 10

# ä¸‹è½½ç”¨æˆ·æ‰€æœ‰åŠ¨æ€å’Œè¯„è®ºï¼ˆé»˜è®¤åŒ…å«å…¨éƒ¨è¯„è®ºï¼‰
python bili_cli.py download-dynamics 477317922

# ä¸‹è½½åŠ¨æ€ä½†ä¸åŒ…å«è¯„è®º
python bili_cli.py download-dynamics 477317922 --no-comments

# é™åˆ¶æ¯ä¸ªåŠ¨æ€æœ€å¤š500æ¡è¯„è®ºï¼Œä½¿ç”¨3ä¸ªå¹¶å‘
python bili_cli.py download-dynamics 477317922 --max-comments 500 --concurrent 3

# è·å–å®Œæ•´æ¥¼ä¸­æ¥¼è¯„è®ºï¼ˆæ›´æ…¢ä½†æ›´å®Œæ•´ï¼‰
python bili_cli.py download-dynamics 477317922 --full-sub-comments

# è‡ªå®šä¹‰è¯·æ±‚é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤0.1ç§’
python bili_cli.py download-dynamics 477317922 --wait-time 0.5

# åˆ†é¡µä¸‹è½½ï¼šä»ç¬¬2é¡µå¼€å§‹ï¼Œåªä¸‹è½½5é¡µåŠ¨æ€
python bili_cli.py download-dynamics 477317922 --start-page 2 --total-pages 5

# ä¸‹è½½å•ä¸ªåŠ¨æ€å’Œè¯„è®º
python bili_cli.py download-single-dynamic 123456789

# ä¸‹è½½å•ä¸ªåŠ¨æ€ä½†ä¸åŒ…å«è¯„è®º
python bili_cli.py download-single-dynamic 123456789 --no-comments

# ä¸‹è½½å•ä¸ªåŠ¨æ€ä½¿ç”¨å®Œæ•´æ¥¼ä¸­æ¥¼è¯„è®º
python bili_cli.py download-single-dynamic 123456789 --full-sub-comments
```

#### é«˜çº§é€‰é¡¹

```bash
# ä½¿ç”¨ç™»å½•å‡­æ®ä¸‹è½½é«˜ç”»è´¨è§†é¢‘
python bili_cli.py download-video BV1FQbPzKEA8 --credentials credentials.json

# æŒ‡å®šç”»è´¨åå¥½
python bili_cli.py download-video BV1FQbPzKEA8 --quality 1080p60

# è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶è·¯å¾„
python bili_cli.py download-video BV1FQbPzKEA8 --log-file custom.log

# ç»„åˆä½¿ç”¨å¤šä¸ªé€‰é¡¹
python bili_cli.py download-user 477317922 --dir ./downloads --concurrent 2 --credentials credentials.json --quality 4k --log-file bili_downloader.log
```

### ğŸ“ é¡¹ç›®ç»“æ„

```
bili_downloader/
â”œâ”€â”€ bili_cli.py              # ä¸»CLIå…¥å£ç‚¹
â”œâ”€â”€ video.py                 # è§†é¢‘ç®¡ç†å™¨å’Œä¸‹è½½å™¨
â”œâ”€â”€ dynamic.py               # åŠ¨æ€ç®¡ç†å™¨å’Œçˆ¬å–å™¨
â”œâ”€â”€ requirements.txt         # Pythonä¾èµ–åˆ—è¡¨
â”œâ”€â”€ credentials.json.example # ç™»å½•å‡­æ®æ¨¡æ¿
â”œâ”€â”€ credentials.json         # ç™»å½•å‡­æ®æ–‡ä»¶(éœ€è‡ªè¡Œåˆ›å»º)
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ CLAUDE.md               # å¼€å‘æŒ‡å—
â””â”€â”€ downloads/                    # é»˜è®¤ä¸‹è½½ç›®å½•
    â”œâ”€â”€ single_videos/            # å•ç‹¬ä¸‹è½½çš„è§†é¢‘
    â”‚   â””â”€â”€ ã€è§†é¢‘æ ‡é¢˜ã€‘_BVID/     # æ¯ä¸ªè§†é¢‘ä¸“ç”¨æ–‡ä»¶å¤¹
    â”‚       â”œâ”€â”€ metadata.json      # å®Œæ•´è§†é¢‘å…ƒæ•°æ®
    â”‚       â”œâ”€â”€ P01_åˆ†Pæ ‡é¢˜.mp4   # åˆ†Pè§†é¢‘æ–‡ä»¶
    â”‚       â”œâ”€â”€ P01_åˆ†Pæ ‡é¢˜_danmaku.jsonl # åˆ†På¼¹å¹•æ–‡ä»¶
    â”‚       â”œâ”€â”€ P02_åˆ†Pæ ‡é¢˜.mp4   # (å¤šPè§†é¢‘)
    â”‚       â””â”€â”€ P02_åˆ†Pæ ‡é¢˜_danmaku.jsonl # (å¤šPè§†é¢‘)
    â”œâ”€â”€ ç”¨æˆ·å_UID/               # ç”¨æˆ·æ•°æ®ç›®å½•
    â”‚   â”œâ”€â”€ dynamics/             # åŠ¨æ€å’Œè¯„è®ºæ•°æ®
    â”‚   â””â”€â”€ videos/               # ç”¨æˆ·è§†é¢‘ä¸‹è½½ç›®å½•
    â”‚       â””â”€â”€ ã€è§†é¢‘æ ‡é¢˜ã€‘_BVID/ # æ¯ä¸ªè§†é¢‘ä¸“ç”¨æ–‡ä»¶å¤¹
    â”‚           â”œâ”€â”€ metadata.json  # å®Œæ•´è§†é¢‘å…ƒæ•°æ®
    â”‚           â”œâ”€â”€ P01_åˆ†Pæ ‡é¢˜.mp4 # åˆ†Pè§†é¢‘æ–‡ä»¶
    â”‚           â””â”€â”€ P01_åˆ†Pæ ‡é¢˜_danmaku.jsonl # åˆ†På¼¹å¹•æ–‡ä»¶
    â””â”€â”€ single_dynamics/          # å•ä¸ªåŠ¨æ€ä¸‹è½½
```

### ğŸ¨ æ”¯æŒçš„ç”»è´¨æ ¼å¼

| ç”»è´¨ | æè¿° | è¦æ±‚ |
|------|------|------|
| 360P | æµç•…ç”»è´¨ | æ— éœ€ç™»å½• |
| 480P | æ¸…æ™°ç”»è´¨ | æ— éœ€ç™»å½• |
| 720P | é«˜æ¸…ç”»è´¨ | æ— éœ€ç™»å½• |
| 1080P | è¶…æ¸…ç”»è´¨ | æ— éœ€ç™»å½• |
| 1080P+ | è¶…æ¸…é«˜ç ç‡ | éœ€è¦ç™»å½• |
| 1080P60 | è¶…æ¸…60å¸§ | éœ€è¦å¤§ä¼šå‘˜ |
| 4K | 4Kè¶…é«˜æ¸… | éœ€è¦å¤§ä¼šå‘˜ |
| HDR | HDRçœŸå½© | éœ€è¦å¤§ä¼šå‘˜ |
| æœæ¯”è§†ç•Œ | æœæ¯”è§†ç•Œ | éœ€è¦å¤§ä¼šå‘˜ |
| 8K | 8Kè¶…é«˜æ¸… | éœ€è¦å¤§ä¼šå‘˜ |

### âš™ï¸ åŠ¨æ€çˆ¬å–å‚æ•°è¯´æ˜

#### æ¥¼ä¸­æ¥¼è¯„è®ºè·å–ç­–ç•¥

æœ¬å·¥å…·æä¾›ä¸¤ç§æ¥¼ä¸­æ¥¼è¯„è®ºè·å–ç­–ç•¥ï¼š

- **é»˜è®¤ç­–ç•¥ï¼ˆæ¨èï¼‰**: ä½¿ç”¨æ ¹è¯„è®ºå“åº”ä¸­å†…åµŒçš„æ¥¼ä¸­æ¥¼æ•°æ®
  - âœ… **é€Ÿåº¦å¿«**: æ— éœ€é¢å¤–APIè¯·æ±‚
  - âœ… **æ•ˆç‡é«˜**: å‡å°‘æœåŠ¡å™¨è´Ÿè½½
  - âš ï¸ **éƒ¨åˆ†æ¥¼ä¸­æ¥¼**: é€šå¸¸åªåŒ…å«å‰å‡ æ¡æ¥¼ä¸­æ¥¼å›å¤

- **å®Œæ•´ç­–ç•¥**: ä½¿ç”¨ `--full-sub-comments` å‚æ•°å•ç‹¬è·å–æ¯ä¸ªæ ¹è¯„è®ºçš„æ‰€æœ‰æ¥¼ä¸­æ¥¼
  - âœ… **æ•°æ®å®Œæ•´**: è·å–æ‰€æœ‰æ¥¼ä¸­æ¥¼å›å¤
  - âœ… **æ— é—æ¼**: ç¡®ä¿è¯„è®ºæ•°æ®çš„å®Œæ•´æ€§
  - âš ï¸ **é€Ÿåº¦è¾ƒæ…¢**: éœ€è¦å¤§é‡é¢å¤–APIè¯·æ±‚
  - âš ï¸ **æ˜“è¢«é™æµ**: é¢‘ç¹è¯·æ±‚å¯èƒ½è§¦å‘åçˆ¬æœºåˆ¶

#### å…¶ä»–é‡è¦å‚æ•°

- `--wait-time`: æ§åˆ¶è¯·æ±‚é—´éš”ï¼ˆé»˜è®¤0.1ç§’ï¼‰ï¼Œå¯é€‚å½“å¢åŠ é¿å…è¢«é™æµ
- `--start-page` / `--total-pages`: æ”¯æŒåˆ†é¡µä¸‹è½½ï¼Œä¾¿äºå¢é‡æ›´æ–°æˆ–æµ‹è¯•
- `--max-comments`: é™åˆ¶æ¯ä¸ªåŠ¨æ€çš„è¯„è®ºæ•°é‡ï¼Œé¿å…è¶…å¤§åŠ¨æ€æ¶ˆè€—è¿‡å¤šæ—¶é—´

### ğŸ“Š åŠ¨æ€æ•°æ®æ ¼å¼

åŠ¨æ€å’Œè¯„è®ºæ•°æ®ä»¥ JSON æ ¼å¼ä¿å­˜ï¼Œæ¯ä¸ªåŠ¨æ€ä¸€ä¸ªæ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„å…ƒæ•°æ®ï¼š

```json
{
  "dynamic_info": {
    "id_str": "123456789",
    "type": "DYNAMIC_TYPE_DRAW",
    "modules": {
      "module_author": { "name": "ç”¨æˆ·å", "pub_ts": 1234567890 },
      "module_dynamic": { /* åŠ¨æ€å†…å®¹ */ }
    }
  },
  "comments": {
    "root_comments": [
      {
        "rpid": 1001,
        "content": { "message": "è¯„è®ºå†…å®¹" },
        "member": { "uname": "è¯„è®ºè€…", "avatar": "å¤´åƒURL" },
        "rcount": 5,  // æ¥¼ä¸­æ¥¼æ•°é‡
        "like": 10    // ç‚¹èµæ•°
      }
    ],
    "sub_comments": {
      "1001": [
        { "rpid": 2001, "content": { "message": "æ¥¼ä¸­æ¥¼å›å¤" } }
      ]
    },
    "total_count": 15
  },
  "metadata": {
    "crawl_time": "2024-01-01T12:00:00",
    "dynamic_type": "DYNAMIC_TYPE_DRAW",
    "total_comments": 15
  }
}
```

### ğŸ“ å¼¹å¹•æ•°æ®æ ¼å¼

è§†é¢‘å¼¹å¹•ä»¥ JSONL æ ¼å¼ä¿å­˜ï¼ˆæ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼‰ï¼ŒåŒ…å«å®Œæ•´çš„åŸå§‹å¼¹å¹•æ•°æ®ï¼š

```jsonl
{"type": "regular", "text": "å¼¹å¹•å†…å®¹", "dm_time": 123.45, "send_time": 1640995200, "crc32_id": "abc123", "color": "ffffff", "weight": 5, "id_": 12345, "id_str": "12345", "action": "", "mode": 1, "font_size": 25, "is_sub": false, "pool": 0, "attr": 0, "uid": 123456}
{"type": "regular", "text": "å¦ä¸€æ¡å¼¹å¹•", "dm_time": 150.20, "send_time": 1640995230, "crc32_id": "def456", "color": "ff6699", "weight": 3, "id_": 12346, "id_str": "12346", "action": "", "mode": 1, "font_size": 25, "is_sub": false, "pool": 0, "attr": 0, "uid": -1}
{"type": "special", "content": "BASç‰¹æ®Šå¼¹å¹•å†…å®¹", "id_": 54321, "id_str": "54321", "mode": 9, "pool": 2}
```

#### å¼¹å¹•å­—æ®µè¯´æ˜

**æ™®é€šå¼¹å¹• (type: "regular")**:
- `text`: å¼¹å¹•æ–‡æœ¬å†…å®¹
- `dm_time`: å¼¹å¹•åœ¨è§†é¢‘ä¸­çš„æ—¶é—´ä½ç½®ï¼ˆç§’ï¼‰
- `send_time`: å¼¹å¹•å‘é€çš„æ—¶é—´æˆ³
- `crc32_id`: å‘é€è€…UIDçš„CRC32å“ˆå¸Œå€¼
- `color`: å¼¹å¹•é¢œè‰²ï¼ˆåå…­è¿›åˆ¶ï¼Œ"special"è¡¨ç¤ºå¤§ä¼šå‘˜ä¸“å±é¢œè‰²ï¼‰
- `weight`: å¼¹å¹•åœ¨å¼¹å¹•åˆ—è¡¨æ˜¾ç¤ºçš„æƒé‡
- `id_`: å¼¹å¹•IDï¼ˆæ•°å­—ï¼‰
- `id_str`: å¼¹å¹•IDï¼ˆå­—ç¬¦ä¸²ï¼‰
- `action`: å¼¹å¹•åŠ¨ä½œï¼ˆç”¨é€”å¾…æ˜ç¡®ï¼‰
- `mode`: å¼¹å¹•ç±»å‹ (1=æ»šåŠ¨, 4=åº•éƒ¨, 5=é¡¶éƒ¨, 6=é€†å‘, 7=é«˜çº§, 8=ä»£ç , 9=BAS)
- `font_size`: å­—ä½“å¤§å° (12/16/18/25/36/45/64)
- `is_sub`: æ˜¯å¦ä¸ºå­—å¹•å¼¹å¹•
- `pool`: å¼¹å¹•æ±  (0=æ™®é€š, 1=å­—å¹•, 2=ç‰¹æ®Š)
- `attr`: å¼¹å¹•å±æ€§ï¼ˆç”¨é€”å¾…æ˜ç¡®ï¼‰
- `uid`: å‘é€è€…çœŸå®UIDï¼ˆå½“å¯è·å–æ—¶ï¼Œå¦åˆ™ä¸º-1ï¼‰

**ç‰¹æ®Šå¼¹å¹• (type: "special")**:
- `content`: ç‰¹æ®Šå¼¹å¹•å†…å®¹
- `id_`: å¼¹å¹•IDï¼ˆæ•°å­—ï¼‰
- `id_str`: å¼¹å¹•IDï¼ˆå­—ç¬¦ä¸²ï¼‰
- `mode`: å¼¹å¹•æ¨¡å¼ï¼ˆé€šå¸¸ä¸º9=BASå¼¹å¹•ï¼‰
- `pool`: å¼¹å¹•æ± ï¼ˆé€šå¸¸ä¸º2=ç‰¹æ®Šæ± ï¼‰

> **æ³¨æ„**: æœ¬å·¥å…·ä¿å­˜å¼¹å¹•å¯¹è±¡çš„æ‰€æœ‰å¯ç”¨å±æ€§ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚å¦‚Bç«™APIå¢åŠ æ–°å­—æ®µï¼Œä¹Ÿä¼šè‡ªåŠ¨åŒ…å«åœ¨å†…ã€‚

#### æ–‡ä»¶å‘½åè§„åˆ™

- **è§†é¢‘æ–‡ä»¶**: `P{åºå·:02d}_{åˆ†Pæ ‡é¢˜}.mp4` (å¦‚ `P01_ç¬¬ä¸€é›†.mp4`)
- **å¼¹å¹•æ–‡ä»¶**: `P{åºå·:02d}_{åˆ†Pæ ‡é¢˜}_danmaku.jsonl` (å¦‚ `P01_ç¬¬ä¸€é›†_danmaku.jsonl`)
- **å…ƒæ•°æ®æ–‡ä»¶**: `metadata.json` (åŒ…å«å®Œæ•´è§†é¢‘å’Œåˆ†Pä¿¡æ¯)

### ğŸ“Š å…ƒæ•°æ®æ ¼å¼

æ¯ä¸ªè§†é¢‘æ–‡ä»¶å¤¹éƒ½åŒ…å«å®Œæ•´çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œä»¥JSONæ ¼å¼ä¿å­˜ï¼š

```json
{
  "video_info": {
    "bvid": "BV1234567890",
    "aid": 123456789,
    "title": "è§†é¢‘æ ‡é¢˜",
    "desc": "è§†é¢‘æè¿°",
    "owner": {
      "mid": 12345678,
      "name": "UPä¸»åç§°"
    },
    "stat": {
      "view": 10000,
      "danmaku": 500,
      "like": 1000,
      "coin": 200,
      "favorite": 300
    },
    "pubdate": 1640995200,
    "duration": 600,
    "pic": "è§†é¢‘å°é¢URL"
  },
  "pages_info": [
    {
      "cid": 123456789,
      "page": 1,
      "part": "åˆ†Pæ ‡é¢˜",
      "duration": 600,
      "dimension": {
        "width": 1920,
        "height": 1080
      }
    }
  ],
  "download_time": "2024-01-01 12:00:00",
  "downloader_version": "bili_downloader_v1.0"
}
```

### ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

### ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼